Derive([("debug","/nix/store/l13c89ykx82ffm2y025fnngszchsgq6b-python3-3.12.7-debug","",""),("out","/nix/store/px2nj16i5gc3d4mnw5l1nclfdxhry61p-python3-3.12.7","","")],[("/nix/store/0cxw25gsi8y1jhh81ibfq52dnv3j363h-zlib-1.3.1.drv",["dev","out"]),("/nix/store/1qadnnxj6ry6f8xp9hqpxyrv43pkpkgi-Python-3.12.7.tar.xz.drv",["out"]),("/nix/store/1r6kg7938a79abfr57n52xn32lvd613x-sqlite-3.46.1.drv",["dev","out"]),("/nix/store/3yiw0sh0cc25rsfw70n33lfzsa4zqj3j-autoconf-archive-2024.10.16.drv",["out"]),("/nix/store/5xf27zalc62awyx5y6byxl2dib8lxnfv-pkg-config-wrapper-0.29.2.drv",["out"]),("/nix/store/6jbslcgbjd9gs4f8xkw1mfq6p3kbrb2y-mpdecimal-4.0.0.drv",["dev","out"]),("/nix/store/70435f9w75zws5npcncilp6nkci8jic7-readline-8.2p13.drv",["dev","out"]),("/nix/store/a2l0yvia98q599wy4jhpbnr4n2fclv3s-python-setup-hook.sh.drv",["out"]),("/nix/store/dnz8qq3swk2fn2ckab9140d5j61svsd0-tzdata-2024b.drv",["dev","out"]),("/nix/store/flm8hamhmyqzj9fr2ysapf4c9753hcwq-nuke-references.drv",["out"]),("/nix/store/gzlzaavil7r2lpq8b3hyplgfgidf5jw4-stdenv-linux.drv",["out"]),("/nix/store/il3pvchzzzaixvdvj7x3yh4kdknqg35a-autoreconf-hook.drv",["out"]),("/nix/store/indrykggfw6861yva2cvry1wmc9vvxr0-expat-2.6.4.drv",["dev","out"]),("/nix/store/j4pbf82infz55f7wr4wiv8si2kjw2lcf-libffi-3.4.6.drv",["dev","out"]),("/nix/store/k9g7vzpc3ssqc0y9zxkbfs7is6vq8w1a-gdbm-1.24.drv",["dev","lib"]),("/nix/store/m9y9qg1wmzh9wf6jgaj6rahcvx3smns7-xz-5.6.3.drv",["dev","out"]),("/nix/store/nn1y3cgn1paz3ybmx2w66cmckbsxr45v-ncurses-6.4.20221231.drv",["dev","out"]),("/nix/store/r9b6fbq90smfgig4ic62f3jah0grx3my-bzip2-1.0.8.drv",["dev","out"]),("/nix/store/vj0qwivp529i968kky9smmlkf940wn2n-openssl-3.3.2.drv",["dev","out"]),("/nix/store/vjznlmanjkps53l7hw2krvpzwqcd5m3d-bash-5.2p37.drv",["dev","out"]),("/nix/store/vrnrdi81zqp4pzfyqvkayj4k81bx3ig7-libxcrypt-4.4.36.drv",["out"]),("/nix/store/ywmk39y1lph05jyhzrzm9kg8a9vaizh6-mailcap-2.1.54.drv",["out"])],["/nix/store/7f26mgj9vx5izbkbfirkd4m0dyxlrkvv-platform-triplet-detection.patch","/nix/store/gx4pa1m75g8rrrggj7gi3bg38m4lg3q5-sitecustomize.py","/nix/store/lpfs02z2i2hamz9f50p4bz6v0fs0600j-mimetypes.patch","/nix/store/r112dk8w7zvdjipki58ch00m825li7fq-virtualenv-permissions.patch","/nix/store/s5myj3ybdn7wrsfpydj48mm24vnvw6bc-no-ldconfig.patch","/nix/store/v6x3cs394jgqfbi0a42pam708flxaphh-default-builder.sh","/nix/store/xicrk4waf3kazyf96aaavsirgx241r0s-separate-debug-info.sh"],"x86_64-linux","/nix/store/0irlcqx2n3qm6b1pc9rsd2i8qpvcccaj-bash-5.2p37/bin/bash",["-e","/nix/store/v6x3cs394jgqfbi0a42pam708flxaphh-default-builder.sh"],[("CPPFLAGS","-I/nix/store/zxdqz14sxn84fgc9haqnsc1sx0miyps1-bzip2-1.0.8-dev/include -I/nix/store/p34rbliijkq22hiprw5n2ij9slqw5587-expat-2.6.4-dev/include -I/nix/store/7vs39d9phfvq4a95ydmq3zkpf518wlmb-libffi-3.4.6-dev/include -I/nix/store/w47qirkm40jxlwndipwavi1mgg78d6y3-libxcrypt-4.4.36/include -I/nix/store/8xlmmal1731jscgi3895k7i33n8j5d4q-mpdecimal-4.0.0-dev/include -I/nix/store/inpspwqhgpld2zdk89hra7xjh3nxll2x-ncurses-6.4.20221231-dev/include -I/nix/store/4r4ig3y8xm9zwvra4m3kimn133m24dnv-openssl-3.3.2-dev/include -I/nix/store/jn92hm1bzs1x2aa1a90lz7dw9nnf6amk-sqlite-3.46.1-dev/include -I/nix/store/il8sinhfgy14kx2srzqa7g7wfgfslmn9-xz-5.6.3-dev/include -I/nix/store/h0j60865g7m591zqw6bl1pjq33x4l9m9-zlib-1.3.1-dev/include -I/nix/store/4jx39z294sclm8dlbv9ybn7k7f9bpm4b-tzdata-2024b-dev/include -I/nix/store/flac719xw66h21dvssflzbvg674l3g7i-gdbm-1.24-dev/include -I/nix/store/l32i5is45q6fafzl91n9xbl94456krkp-readline-8.2p13-dev/include"),("LDFLAGS","-L/nix/store/g242a6wyvc429wlwp59iqyhpnjfcrkw3-bzip2-1.0.8/lib -L/nix/store/m761lp9x14i33hb3q7a8wm52rsnk6ab1-expat-2.6.4/lib -L/nix/store/0d4h5nnbliwpqa5hcmq0lad6r2xfbpii-libffi-3.4.6/lib -L/nix/store/w47qirkm40jxlwndipwavi1mgg78d6y3-libxcrypt-4.4.36/lib -L/nix/store/kj8vddklj2wbg9a8sm2scy3ga2alk45m-mpdecimal-4.0.0/lib -L/nix/store/8s7f5jgn8bbvj552hb5glsgwfx881kfy-ncurses-6.4.20221231/lib -L/nix/store/5dlhinba4wbr5ijy0vcmyzh4i678z94w-openssl-3.3.2/lib -L/nix/store/yjm4j9n85bcp42v5nkz2xifrp4a9s63k-sqlite-3.46.1/lib -L/nix/store/mmbcivd56qqijk877x2i5ra55sbbcmrl-xz-5.6.3/lib -L/nix/store/y6bcc1vzg315zzzpir608zkhnmvp49kc-zlib-1.3.1/lib -L/nix/store/218rvnizgdhfkwp9ly4y4ji82lfarcgb-tzdata-2024b/lib -L/nix/store/vi8is82naxlyrvy8nngyn892bbmvjbjb-gdbm-1.24-lib/lib -L/nix/store/b7s4gxgadr70g743yldrc2km79vrzhgz-readline-8.2p13/lib"),("LIBS","-lcrypt"),("NIX_LDFLAGS","-lgcc_s"),("PYTHONHASHSEED","0"),("__structuredAttrs",""),("buildInputs","/nix/store/z9vnzv0l6mavbajksfd7j8c5isa6xjmk-bash-5.2p37-dev /nix/store/zxdqz14sxn84fgc9haqnsc1sx0miyps1-bzip2-1.0.8-dev /nix/store/p34rbliijkq22hiprw5n2ij9slqw5587-expat-2.6.4-dev /nix/store/7vs39d9phfvq4a95ydmq3zkpf518wlmb-libffi-3.4.6-dev /nix/store/w47qirkm40jxlwndipwavi1mgg78d6y3-libxcrypt-4.4.36 /nix/store/8xlmmal1731jscgi3895k7i33n8j5d4q-mpdecimal-4.0.0-dev /nix/store/inpspwqhgpld2zdk89hra7xjh3nxll2x-ncurses-6.4.20221231-dev /nix/store/4r4ig3y8xm9zwvra4m3kimn133m24dnv-openssl-3.3.2-dev /nix/store/jn92hm1bzs1x2aa1a90lz7dw9nnf6amk-sqlite-3.46.1-dev /nix/store/il8sinhfgy14kx2srzqa7g7wfgfslmn9-xz-5.6.3-dev /nix/store/h0j60865g7m591zqw6bl1pjq33x4l9m9-zlib-1.3.1-dev /nix/store/4jx39z294sclm8dlbv9ybn7k7f9bpm4b-tzdata-2024b-dev /nix/store/flac719xw66h21dvssflzbvg674l3g7i-gdbm-1.24-dev /nix/store/l32i5is45q6fafzl91n9xbl94456krkp-readline-8.2p13-dev"),("builder","/nix/store/0irlcqx2n3qm6b1pc9rsd2i8qpvcccaj-bash-5.2p37/bin/bash"),("cmakeFlags",""),("configureFlags","--without-ensurepip --with-system-expat --with-system-libmpdec --with-openssl=/nix/store/4r4ig3y8xm9zwvra4m3kimn133m24dnv-openssl-3.3.2-dev --with-tzpath=/nix/store/218rvnizgdhfkwp9ly4y4ji82lfarcgb-tzdata-2024b/share/zoneinfo --with-lto --enable-shared --enable-loadable-sqlite-extensions CFLAGS=-I/nix/store/w47qirkm40jxlwndipwavi1mgg78d6y3-libxcrypt-4.4.36/include LIBS=-L/nix/store/w47qirkm40jxlwndipwavi1mgg78d6y3-libxcrypt-4.4.36/lib ac_cv_func_lchmod=no"),("debug","/nix/store/l13c89ykx82ffm2y025fnngszchsgq6b-python3-3.12.7-debug"),("depsBuildBuild",""),("depsBuildBuildPropagated",""),("depsBuildTarget",""),("depsBuildTargetPropagated",""),("depsHostHost",""),("depsHostHostPropagated",""),("depsTargetTarget",""),("depsTargetTargetPropagated",""),("disallowedReferences","/nix/store/4r4ig3y8xm9zwvra4m3kimn133m24dnv-openssl-3.3.2-dev"),("doCheck",""),("doInstallCheck",""),("enableParallelBuilding","1"),("enableParallelChecking","1"),("enableParallelInstalling","1"),("mesonFlags",""),("name","python3-3.12.7"),("nativeBuildInputs","/nix/store/srpcs6bdq2845x8wpj0g7vl8a9fd5g1q-nuke-references /nix/store/fvdsb9i4vb8ca77s8lh60cil33m36dmk-autoconf-archive-2024.10.16 /nix/store/ymf14q0cz5arbzfmpcnipm0ng0v0i557-autoreconf-hook /nix/store/f1gamyykr0f8n4afy910ass2jx2g9zkv-pkg-config-wrapper-0.29.2 /nix/store/xicrk4waf3kazyf96aaavsirgx241r0s-separate-debug-info.sh"),("out","/nix/store/px2nj16i5gc3d4mnw5l1nclfdxhry61p-python3-3.12.7"),("outputs","out debug"),("patches","/nix/store/s5myj3ybdn7wrsfpydj48mm24vnvw6bc-no-ldconfig.patch /nix/store/r112dk8w7zvdjipki58ch00m825li7fq-virtualenv-permissions.patch /nix/store/lpfs02z2i2hamz9f50p4bz6v0fs0600j-mimetypes.patch /nix/store/7f26mgj9vx5izbkbfirkd4m0dyxlrkvv-platform-triplet-detection.patch"),("pname","python3"),("postFixup","# https://github.com/python/cpython/blob/e488e300f5c01289c10906c2e53a8e43d6de32d8/configure.ac#L78\nsysconfigdataName=\"$(make --eval $'print-sysconfigdata-name:\n\\t@echo _sysconfigdata_$(ABIFLAGS)_$(MACHDEP)_$(MULTIARCH) ' print-sysconfigdata-name)\"\n\n# The CPython interpreter contains a _sysconfigdata_<platform specific suffix>\n# module that is imported by the sysconfig and distutils.sysconfig modules.\n# The sysconfigdata module is generated at build time and contains settings\n# required for building Python extension modules, such as include paths and\n# other compiler flags. By default, the sysconfigdata module is loaded from\n# the currently running interpreter (ie. the build platform interpreter), but\n# when cross-compiling we want to load it from the host platform interpreter.\n# This can be done using the _PYTHON_SYSCONFIGDATA_NAME environment variable.\n# The _PYTHON_HOST_PLATFORM variable also needs to be set to get the correct\n# platform suffix on extension modules. The correct values for these variables\n# are not documented, and must be derived from the configure script (see links\n# below).\ncat <<EOF >> \"$out/nix-support/setup-hook\"\nsysconfigdataHook() {\n  if [ \"\\$1\" = '$out' ]; then\n    export _PYTHON_HOST_PLATFORM='linux-x86_64'\n    export _PYTHON_SYSCONFIGDATA_NAME='$sysconfigdataName'\n  fi\n}\n\naddEnvHooks \"\\$hostOffset\" sysconfigdataHook\nEOF\n"),("postInstall","# needed for some packages, especially packages that backport functionality\n# to 2.x from 3.x\nfor item in $out/lib/python3.12/test/*; do\n  if [[ \"$item\" != */test_support.py*\n     && \"$item\" != */test/support\n     && \"$item\" != */test/libregrtest\n     && \"$item\" != */test/regrtest.py* ]]; then\n    rm -rf \"$item\"\n  else\n    echo $item\n  fi\ndone\ntouch $out/lib/python3.12/test/__init__.py\n\n# Determinism: Windows installers were not deterministic.\n# We're also not interested in building Windows installers.\nfind \"$out\" -name 'wininst*.exe' | xargs -r rm -f\n\n# Use Python3 as default python\nln -s \"$out/bin/idle3\" \"$out/bin/idle\"\nln -s \"$out/bin/pydoc3\" \"$out/bin/pydoc\"\nln -s \"$out/bin/python3\" \"$out/bin/python\"\nln -s \"$out/bin/python3-config\" \"$out/bin/python-config\"\nln -s \"$out/lib/pkgconfig/python3.pc\" \"$out/lib/pkgconfig/python.pc\"\nln -sL \"$out/share/man/man1/python3.1.gz\" \"$out/share/man/man1/python.1.gz\"\n\n# Get rid of retained dependencies on -dev packages, and remove\n# some $TMPDIR references to improve binary reproducibility.\n# Note that the .pyc file of _sysconfigdata.py should be regenerated!\nfor i in $out/lib/python3.12/_sysconfigdata*.py $out/lib/python3.12/config-312*/Makefile; do\n   sed -i $i -e \"s|$TMPDIR|/no-such-path|g\"\ndone\n\n# Further get rid of references. https://github.com/NixOS/nixpkgs/issues/51668\nfind $out/lib/python*/config-* -type f -print -exec nuke-refs -e /1rz4g4znpzjwh1xymhjpm42vipw92pr73vdgl6xs1hycac8kf2n9 -e /nix/store/w47qirkm40jxlwndipwavi1mgg78d6y3-libxcrypt-4.4.36 -e /nix/store/218rvnizgdhfkwp9ly4y4ji82lfarcgb-tzdata-2024b '{}' +\nfind $out/lib -name '_sysconfigdata*.py*' -print -exec nuke-refs -e /1rz4g4znpzjwh1xymhjpm42vipw92pr73vdgl6xs1hycac8kf2n9 -e /nix/store/w47qirkm40jxlwndipwavi1mgg78d6y3-libxcrypt-4.4.36 -e /nix/store/218rvnizgdhfkwp9ly4y4ji82lfarcgb-tzdata-2024b '{}' +\n\n# Make the sysconfigdata module accessible on PYTHONPATH\n# This allows build Python to import host Python's sysconfigdata\nmkdir -p \"$out/lib/python3.12/site-packages\"\nln -s \"$out/lib/python3.12/\"_sysconfigdata*.py \"$out/lib/python3.12/site-packages/\"\n# Include a sitecustomize.py file\ncp /nix/store/gx4pa1m75g8rrrggj7gi3bg38m4lg3q5-sitecustomize.py $out/lib/python3.12/site-packages/sitecustomize.py\n# Determinism: deterministic bytecode\n# First we delete all old bytecode.\nfind $out -type d -name __pycache__ -print0 | xargs -0 -I {} rm -rf \"{}\"\n# Python 3.7 implements PEP 552, introducing support for deterministic bytecode.\n# compileall uses the therein introduced checked-hash method by default when\n# `SOURCE_DATE_EPOCH` is set.\n# We exclude lib2to3 because that's Python 2 code which fails\n# We build 3 levels of optimized bytecode. Note the default level, without optimizations,\n# is not reproducible yet. https://bugs.python.org/issue29708\n# Not creating bytecode will result in a large performance loss however, so we do build it.\nfind $out -name \"*.py\" | $out/bin/python -m compileall -q -f -x \"lib2to3\" -i -\nfind $out -name \"*.py\" | $out/bin/python -O  -m compileall -q -f -x \"lib2to3\" -i -\nfind $out -name \"*.py\" | $out/bin/python -OO -m compileall -q -f -x \"lib2to3\" -i -\n# *strip* shebang from libpython gdb script - it should be dual-syntax and\n# interpretable by whatever python the gdb in question is using, which may\n# not even match the major version of this python. doing this after the\n# bytecode compilations for the same reason - we don't want bytecode generated.\nmkdir -p $out/share/gdb\nsed '/^#!/d' Tools/gdb/libpython.py > $out/share/gdb/libpython.py\n\n# Disable system-wide pip installation. See https://peps.python.org/pep-0668/.\ncat <<'EXTERNALLY_MANAGED' > $out/lib/python3.12/EXTERNALLY-MANAGED\n[externally-managed]\nError=This command has been disabled as it tries to modify the immutable\n `/nix/store` filesystem.\n\n To use Python with Nix and nixpkgs, have a look at the online documentation:\n <https://nixos.org/manual/nixpkgs/stable/#python>.\nEXTERNALLY_MANAGED\n"),("postPatch","substituteInPlace Lib/subprocess.py \\\n  --replace-fail \"'/bin/sh'\" \"'/nix/store/0irlcqx2n3qm6b1pc9rsd2i8qpvcccaj-bash-5.2p37/bin/sh'\"\nsubstituteInPlace Lib/mimetypes.py \\\n  --replace-fail \"@mime-types@\" \"/nix/store/c1n8nvyy8m6zvpqjysf3m6biixi79hdb-mailcap-2.1.54\"\n"),("preConfigure","# Attempt to purify some of the host info collection\nsed -E -i -e 's/uname -r/echo/g' -e 's/uname -n/echo nixpkgs/g' config.guess\nsed -E -i -e 's/uname -r/echo/g' -e 's/uname -n/echo nixpkgs/g' configure\n# Also override the auto-detection in `configure`.\nsubstituteInPlace configure \\\n  --replace-fail 'libmpdec_machine=universal' 'libmpdec_machine=x64'\nexport CFLAGS_NODIST=\"-fno-semantic-interposition\"\n"),("preFixup",""),("prePatch",""),("propagatedBuildInputs",""),("propagatedNativeBuildInputs",""),("separateDebugInfo","1"),("setupHook","/nix/store/d74fb4j461k8wxsrhm1azrh6y808kaw8-python-setup-hook.sh"),("src","/nix/store/ixlxlyp22scrw1xhl9i6p4hz9knq8fk7-Python-3.12.7.tar.xz"),("stdenv","/nix/store/gw0swsnbfk9l8d1il70psm8b3r5m33jv-stdenv-linux"),("strictDeps",""),("system","x86_64-linux"),("version","3.12.7")])