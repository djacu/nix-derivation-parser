Derive([("out","/nix/store/5ppz51w672jrj4pdxwc1x5i27khzzad0-openssh-9.9p1","","")],[("/nix/store/0cxw25gsi8y1jhh81ibfq52dnv3j363h-zlib-1.3.1.drv",["dev"]),("/nix/store/5xf27zalc62awyx5y6byxl2dib8lxnfv-pkg-config-wrapper-0.29.2.drv",["out"]),("/nix/store/cfp27awxa5rf02nfx9kwf487yibq7b5d-openssh-9.9p1.tar.gz.drv",["out"]),("/nix/store/fwx1kbjbxv3zc6c4h6y2qdklb0gsbixg-libredirect-0.drv",["out"]),("/nix/store/gsfwrirysa7rhv31dx2rpfc569wnyda7-libedit-20240808-3.1.drv",["dev"]),("/nix/store/gzlzaavil7r2lpq8b3hyplgfgidf5jw4-stdenv-linux.drv",["out"]),("/nix/store/il3pvchzzzaixvdvj7x3yh4kdknqg35a-autoreconf-hook.drv",["out"]),("/nix/store/ml77zbp6gjaxyyrdadayn3sv7rwf79fq-ldns-1.8.4.drv",["dev"]),("/nix/store/pl2rb2ah3cl9bqq5437vcbmjxs417lkw-libfido2-1.15.0.drv",["dev"]),("/nix/store/v4ixv9y06aj4l5qhmzkh0rlbjn3l4jh2-linux-pam-1.6.1.drv",["out"]),("/nix/store/vj0qwivp529i968kky9smmlkf940wn2n-openssl-3.3.2.drv",["dev"]),("/nix/store/vjznlmanjkps53l7hw2krvpzwqcd5m3d-bash-5.2p37.drv",["out"]),("/nix/store/xdgn2xg21d7smvkwvh8381xzj7xxnvs6-gss-serv.c.patch?id=a7509603971ce2f3282486a43bb773b1b522af83.drv",["out"])],["/nix/store/7jbzj9s2wkbznn93ga3aqka6vfx06gjg-ssh-keysign-8.5.patch","/nix/store/isik6ifcjxpw22sfh3kz37galficc78c-locale_archive.patch","/nix/store/v6x3cs394jgqfbi0a42pam708flxaphh-default-builder.sh","/nix/store/ybb4xs45dkngdf3x1xnxqgzn5zmv5alf-dont_create_privsep_path.patch"],"x86_64-linux","/nix/store/0irlcqx2n3qm6b1pc9rsd2i8qpvcccaj-bash-5.2p37/bin/bash",["-e","/nix/store/v6x3cs394jgqfbi0a42pam708flxaphh-default-builder.sh"],[("NIX_HARDENING_ENABLE","bindnow format fortify fortify3 pic relro stackprotector strictoverflow zerocallusedregs pie"),("PATH_PASSWD_PROG","/run/wrappers/bin/passwd"),("__structuredAttrs",""),("buildFlags","SSH_KEYSIGN=ssh-keysign"),("buildInputs","/nix/store/h0j60865g7m591zqw6bl1pjq33x4l9m9-zlib-1.3.1-dev /nix/store/wj73sf2fvpjm741ifxnq7amkv4kj6wk6-libedit-20240808-3.1-dev /nix/store/4r4ig3y8xm9zwvra4m3kimn133m24dnv-openssl-3.3.2-dev /nix/store/z9lf5hj2iq7qsjc0nadmxg9i2azppp8f-libfido2-1.15.0-dev /nix/store/6zbs6g938rqrxp33fx7rb3yr0vl6z2jd-ldns-1.8.4-dev /nix/store/73wvk8fiijn56769hzhn7r0nplwy9v9i-linux-pam-1.6.1"),("builder","/nix/store/0irlcqx2n3qm6b1pc9rsd2i8qpvcccaj-bash-5.2p37/bin/bash"),("checkTarget","t-exec unit file-tests interop-tests"),("cmakeFlags",""),("configureFlags","--sbindir=${out}/bin --localstatedir=/var --with-pid-dir=/run --with-mantype=man --with-libedit=yes --disable-strip --with-pam --disable-dsa-keys --sysconfdir=/etc/ssh --with-security-key-builtin=yes --with-ldns"),("depsBuildBuild",""),("depsBuildBuildPropagated",""),("depsBuildTarget",""),("depsBuildTargetPropagated",""),("depsHostHost",""),("depsHostHostPropagated",""),("depsTargetTarget",""),("depsTargetTargetPropagated",""),("doCheck",""),("doInstallCheck",""),("enableParallelBuilding","1"),("enableParallelChecking",""),("enableParallelInstalling","1"),("hardeningEnable","pie"),("installFlags","sysconfdir=${out}/etc/ssh"),("installTargets","install-nokeys"),("mesonFlags",""),("name","openssh-9.9p1"),("nativeBuildInputs","/nix/store/ymf14q0cz5arbzfmpcnipm0ng0v0i557-autoreconf-hook /nix/store/f1gamyykr0f8n4afy910ass2jx2g9zkv-pkg-config-wrapper-0.29.2"),("out","/nix/store/5ppz51w672jrj4pdxwc1x5i27khzzad0-openssh-9.9p1"),("outputs","out"),("patches","/nix/store/isik6ifcjxpw22sfh3kz37galficc78c-locale_archive.patch /nix/store/6id7rg81nbkx9r9pxvax7nssr11xdaas-gss-serv.c.patch?id=a7509603971ce2f3282486a43bb773b1b522af83 /nix/store/ybb4xs45dkngdf3x1xnxqgzn5zmv5alf-dont_create_privsep_path.patch /nix/store/7jbzj9s2wkbznn93ga3aqka6vfx06gjg-ssh-keysign-8.5.patch"),("pname","openssh"),("postInstall","# Install ssh-copy-id, it's very useful.\ncp contrib/ssh-copy-id $out/bin/\nchmod +x $out/bin/ssh-copy-id\ncp contrib/ssh-copy-id.1 $out/share/man/man1/\n"),("postPatch","substituteInPlace Makefile.in --replace '$(INSTALL) -m 4711' '$(INSTALL) -m 0711'\n"),("preCheck","# construct a dummy HOME\nexport HOME=$(realpath ../dummy-home)\nmkdir -p ~/.ssh\n\n# construct a dummy /etc/passwd file for the sshd under test\n# to use to look up the connecting user\nDUMMY_PASSWD=$(realpath ../dummy-passwd)\ncat > $DUMMY_PASSWD <<EOF\n$(whoami)::$(id -u):$(id -g)::$HOME:$SHELL\nEOF\n\n# we need to NIX_REDIRECTS /etc/passwd both for processes\n# invoked directly and those invoked by the \"remote\" session\ncat > ~/.ssh/environment.base <<EOF\nNIX_REDIRECTS=/etc/passwd=$DUMMY_PASSWD\nLD_PRELOAD=/nix/store/y8b5axd31418asjv06gcnn8myz44qfk7-libredirect-0/lib/libredirect.so\nEOF\n\n# use an ssh environment file to ensure environment is set\n# up appropriately for build environment even when no shell\n# is invoked by the ssh session. otherwise the PATH will\n# only contain default unix paths like /bin which we don't\n# have in our build environment\ncat - regress/test-exec.sh > regress/test-exec.sh.new <<EOF\ncp $HOME/.ssh/environment.base $HOME/.ssh/environment\necho \"PATH=\\$PATH\" >> $HOME/.ssh/environment\nEOF\nmv regress/test-exec.sh.new regress/test-exec.sh\n\n# explicitly enable the PermitUserEnvironment feature\nsubstituteInPlace regress/test-exec.sh \\\n  --replace \\\n    'cat << EOF > $OBJ/sshd_config' \\\n    $'cat << EOF > $OBJ/sshd_config\\n\\tPermitUserEnvironment yes'\n\n# some tests want to use files under /bin as example files\nfor f in regress/sftp-cmds.sh regress/forwarding.sh; do\n  substituteInPlace $f --replace '/bin' \"$(dirname $(type -p ls))\"\ndone\n\n# set up NIX_REDIRECTS for direct invocations\nset -a; source ~/.ssh/environment.base; set +a\n"),("preConfigure","# Setting LD causes `configure' and `make' to disagree about which linker\n# to use: `configure' wants `gcc', but `make' wants `ld'.\nunset LD\n"),("propagatedBuildInputs",""),("propagatedNativeBuildInputs",""),("src","/nix/store/q0ayaw07lfv31qm6viphk3m8n2bczc2r-openssh-9.9p1.tar.gz"),("stdenv","/nix/store/gw0swsnbfk9l8d1il70psm8b3r5m33jv-stdenv-linux"),("strictDeps","1"),("system","x86_64-linux"),("version","9.9p1")])