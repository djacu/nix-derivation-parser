Derive([("out","/nix/store/q2vqbhlx0i0k5bfavk04wiknrf7ygqls-python3-3.12.7","","")],[("/nix/store/0wdj4vsxclvwb95rwxa1f5m0w7nlyjyn-Python-3.12.7.tar.xz.drv",["out"]),("/nix/store/1sazwl4klgck5a0y25hzqkhj5asbbxkb-tzdata-2024b.drv",["dev","out"]),("/nix/store/2b17g7v2incjv5zl3mhcgjxyp9wzzxzv-python-setup-hook.sh.drv",["out"]),("/nix/store/5bjvskg5i9pbjpnlfvbpjw85m8sa1p2i-zlib-1.3.1.drv",["dev","out"]),("/nix/store/8ya5m9ajbm4jz3q91gwm893831zlwvsd-expat-2.6.4.drv",["dev","out"]),("/nix/store/afyi5q44gzg75844xl5pafrbbmhzh6ny-xz-5.6.3.drv",["dev","out"]),("/nix/store/c3wsh10f29ql9l61v74n2am71i6l36jg-readline-8.2p13.drv",["dev","out"]),("/nix/store/cwq26bvkjhd8lchljacipdlifk3x6wlz-mailcap-2.1.54.drv",["out"]),("/nix/store/d300kz1lz6vj5p7gd3pk2hkc9d0nawjz-mpdecimal-4.0.0.drv",["dev","out"]),("/nix/store/fk87xjymhry92ivj0sfwjx69h354bfws-apple-sdk-11.3.drv",["out"]),("/nix/store/g1f44mq97sv61wfsyfal9vlyh4fnz6mh-nuke-references.drv",["out"]),("/nix/store/gnflbvggwa1p70nspcgi7wyb2lhml3bl-sqlite-3.46.1.drv",["dev","out"]),("/nix/store/gnqlv0l9fijaxwy05xb69036pr583fd3-openssl-3.3.2.drv",["dev","out"]),("/nix/store/ib8ymmgbbylvbsrh7nbg4mymjdgchsyj-bzip2-1.0.8.drv",["dev","out"]),("/nix/store/kqh0m4jfwppmnfz55y0z425y2sndhkd8-libxcrypt-4.4.36.drv",["out"]),("/nix/store/niafminmgygcyq5b89g57rz7w35sh65b-llvm-16.0.6.drv",["out"]),("/nix/store/pcqqy5w3f70l7r6ynzn6fa00kcmahqz8-libffi-3.4.6.drv",["dev","out"]),("/nix/store/sxz0bkw1dfgz69wp5apyv6mrlg460vqa-gdbm-1.24.drv",["dev","lib"]),("/nix/store/vkyx4izz6l988gdynmc9ar8qbj5aq1xh-stdenv-darwin.drv",["out"]),("/nix/store/vqf57k571z3812rxbvc04nphll4ipclk-bash-5.2p37.drv",["dev","out"]),("/nix/store/ypfvaai9hjy925i5zbpy1f2ib3aiajhm-ncurses-6.4.20221231.drv",["dev","out"])],["/nix/store/7f26mgj9vx5izbkbfirkd4m0dyxlrkvv-platform-triplet-detection.patch","/nix/store/gx4pa1m75g8rrrggj7gi3bg38m4lg3q5-sitecustomize.py","/nix/store/lpfs02z2i2hamz9f50p4bz6v0fs0600j-mimetypes.patch","/nix/store/r112dk8w7zvdjipki58ch00m825li7fq-virtualenv-permissions.patch","/nix/store/s5myj3ybdn7wrsfpydj48mm24vnvw6bc-no-ldconfig.patch","/nix/store/v6x3cs394jgqfbi0a42pam708flxaphh-default-builder.sh"],"x86_64-darwin","/nix/store/fhngvmgagwwxhak8nzrx5vqbg4g4qiac-bash-5.2p37/bin/bash",["-e","/nix/store/v6x3cs394jgqfbi0a42pam708flxaphh-default-builder.sh"],[("CPPFLAGS","-I/nix/store/jgmcylnfzmxbja1csydvksjwq621r88f-bzip2-1.0.8-dev/include -I/nix/store/a12wxrknx8fybvlz1n3p4lq4mn9kwr7s-expat-2.6.4-dev/include -I/nix/store/dfpsxiqwgq2ys04d5fg0wnkc8b4ny992-libffi-3.4.6-dev/include -I/nix/store/f511iqhrlc85xl8j767lpmmjzqcy5vz2-libxcrypt-4.4.36/include -I/nix/store/ql4477yg8vb1knn221knda370mkws7xv-mpdecimal-4.0.0-dev/include -I/nix/store/dmd31mvnbmqqjmgrd6sf519cjmmf0jl8-ncurses-6.4.20221231-dev/include -I/nix/store/4jby3cpdl1f3pyadl8bl4p1wd8iykr5z-openssl-3.3.2-dev/include -I/nix/store/ajffhbb6nj3snq3za4i1zgnxhk4q52az-sqlite-3.46.1-dev/include -I/nix/store/h266s4aasrykp20gxv39rlxyd4zyl17i-xz-5.6.3-dev/include -I/nix/store/7qvsb4qvnnxlc3s7z3dzq5jfwc0hwdg0-zlib-1.3.1-dev/include -I/nix/store/xybnj7cvza8d9wb32ly0xy24j5yzkhbx-apple-sdk-11.3/include -I/nix/store/c5bsakn7nbvab85y1z9dihibi1250l8m-tzdata-2024b-dev/include -I/nix/store/3cb5sp2wv304wanv5nmhanc34wgk92xc-gdbm-1.24-dev/include -I/nix/store/jkhywy41qd4iv5172zxjpsb0amh14ppy-readline-8.2p13-dev/include"),("LDFLAGS","-L/nix/store/fw6dh9dxplcy8linyacpkwglacd30hwr-bzip2-1.0.8/lib -L/nix/store/njj5vhgpygcmj0h5mhvl7w24rm8ina2m-expat-2.6.4/lib -L/nix/store/80gqhhv0a7jfi1l7bimcbya079hpv76j-libffi-3.4.6/lib -L/nix/store/f511iqhrlc85xl8j767lpmmjzqcy5vz2-libxcrypt-4.4.36/lib -L/nix/store/4mydpkdgd5d56bm70y9nv0byw3qkpadx-mpdecimal-4.0.0/lib -L/nix/store/skvqzr89y8bk7i2pazb1lpf2zfbnsxkc-ncurses-6.4.20221231/lib -L/nix/store/gpikvqy12bw7sig9pgr9kq2yb1y6b4xk-openssl-3.3.2/lib -L/nix/store/ynr1fsxrvwdckpwzgili133l7v2zpk4i-sqlite-3.46.1/lib -L/nix/store/z0h32wl30xmihs38x93jc1wdqgv4n4l9-xz-5.6.3/lib -L/nix/store/z1r8rsa2bgx5gg4cj49r9fbcs9nx1izd-zlib-1.3.1/lib -L/nix/store/xybnj7cvza8d9wb32ly0xy24j5yzkhbx-apple-sdk-11.3/lib -L/nix/store/xf76fs68q22zgnsa0954h2jdn466svwn-tzdata-2024b/lib -L/nix/store/z7nhlzfwwzamyl74k7r7plvh57a76r2i-gdbm-1.24-lib/lib -L/nix/store/ss8zdhnhcdyyn16izfpzs6xs6ymi0zsy-readline-8.2p13/lib"),("LIBS",""),("NIX_LDFLAGS",""),("PYTHONHASHSEED","0"),("__darwinAllowLocalNetworking",""),("__impureHostDeps","/bin/sh /usr/lib/libSystem.B.dylib /usr/lib/system/libunc.dylib /dev/zero /dev/random /dev/urandom /bin/sh"),("__propagatedImpureHostDeps",""),("__propagatedSandboxProfile",""),("__sandboxProfile",""),("__structuredAttrs",""),("buildInputs","/nix/store/kx5c1nm14nss1x8zlrv94kydzpyc7v6v-bash-5.2p37-dev /nix/store/jgmcylnfzmxbja1csydvksjwq621r88f-bzip2-1.0.8-dev /nix/store/a12wxrknx8fybvlz1n3p4lq4mn9kwr7s-expat-2.6.4-dev /nix/store/dfpsxiqwgq2ys04d5fg0wnkc8b4ny992-libffi-3.4.6-dev /nix/store/f511iqhrlc85xl8j767lpmmjzqcy5vz2-libxcrypt-4.4.36 /nix/store/ql4477yg8vb1knn221knda370mkws7xv-mpdecimal-4.0.0-dev /nix/store/dmd31mvnbmqqjmgrd6sf519cjmmf0jl8-ncurses-6.4.20221231-dev /nix/store/4jby3cpdl1f3pyadl8bl4p1wd8iykr5z-openssl-3.3.2-dev /nix/store/ajffhbb6nj3snq3za4i1zgnxhk4q52az-sqlite-3.46.1-dev /nix/store/h266s4aasrykp20gxv39rlxyd4zyl17i-xz-5.6.3-dev /nix/store/7qvsb4qvnnxlc3s7z3dzq5jfwc0hwdg0-zlib-1.3.1-dev /nix/store/xybnj7cvza8d9wb32ly0xy24j5yzkhbx-apple-sdk-11.3 /nix/store/c5bsakn7nbvab85y1z9dihibi1250l8m-tzdata-2024b-dev /nix/store/3cb5sp2wv304wanv5nmhanc34wgk92xc-gdbm-1.24-dev /nix/store/jkhywy41qd4iv5172zxjpsb0amh14ppy-readline-8.2p13-dev"),("builder","/nix/store/fhngvmgagwwxhak8nzrx5vqbg4g4qiac-bash-5.2p37/bin/bash"),("cmakeFlags",""),("configureFlags","--without-ensurepip --with-system-expat --with-system-libmpdec --with-openssl=/nix/store/4jby3cpdl1f3pyadl8bl4p1wd8iykr5z-openssl-3.3.2-dev --with-tzpath=/nix/store/xf76fs68q22zgnsa0954h2jdn466svwn-tzdata-2024b/share/zoneinfo --with-lto --enable-shared --enable-loadable-sqlite-extensions CFLAGS=-I/nix/store/f511iqhrlc85xl8j767lpmmjzqcy5vz2-libxcrypt-4.4.36/include LIBS=-L/nix/store/f511iqhrlc85xl8j767lpmmjzqcy5vz2-libxcrypt-4.4.36/lib"),("depsBuildBuild",""),("depsBuildBuildPropagated",""),("depsBuildTarget",""),("depsBuildTargetPropagated",""),("depsHostHost",""),("depsHostHostPropagated",""),("depsTargetTarget",""),("depsTargetTargetPropagated",""),("disallowedReferences","/nix/store/4jby3cpdl1f3pyadl8bl4p1wd8iykr5z-openssl-3.3.2-dev"),("doCheck",""),("doInstallCheck",""),("enableParallelBuilding","1"),("enableParallelChecking","1"),("enableParallelInstalling","1"),("mesonFlags",""),("name","python3-3.12.7"),("nativeBuildInputs","/nix/store/4lv8gddmhga3vpi2627l87wz114fx9n3-nuke-references /nix/store/9zc3h113f4jkrvh4m1kpcnx80n7nkwg4-llvm-16.0.6"),("out","/nix/store/q2vqbhlx0i0k5bfavk04wiknrf7ygqls-python3-3.12.7"),("outputs","out"),("patches","/nix/store/s5myj3ybdn7wrsfpydj48mm24vnvw6bc-no-ldconfig.patch /nix/store/r112dk8w7zvdjipki58ch00m825li7fq-virtualenv-permissions.patch /nix/store/lpfs02z2i2hamz9f50p4bz6v0fs0600j-mimetypes.patch /nix/store/7f26mgj9vx5izbkbfirkd4m0dyxlrkvv-platform-triplet-detection.patch"),("pname","python3"),("postFixup",""),("postInstall","# needed for some packages, especially packages that backport functionality\n# to 2.x from 3.x\nfor item in $out/lib/python3.12/test/*; do\n  if [[ \"$item\" != */test_support.py*\n     && \"$item\" != */test/support\n     && \"$item\" != */test/libregrtest\n     && \"$item\" != */test/regrtest.py* ]]; then\n    rm -rf \"$item\"\n  else\n    echo $item\n  fi\ndone\ntouch $out/lib/python3.12/test/__init__.py\n\n# Determinism: Windows installers were not deterministic.\n# We're also not interested in building Windows installers.\nfind \"$out\" -name 'wininst*.exe' | xargs -r rm -f\n\n# Use Python3 as default python\nln -s \"$out/bin/idle3\" \"$out/bin/idle\"\nln -s \"$out/bin/pydoc3\" \"$out/bin/pydoc\"\nln -s \"$out/bin/python3\" \"$out/bin/python\"\nln -s \"$out/bin/python3-config\" \"$out/bin/python-config\"\nln -s \"$out/lib/pkgconfig/python3.pc\" \"$out/lib/pkgconfig/python.pc\"\nln -sL \"$out/share/man/man1/python3.1.gz\" \"$out/share/man/man1/python.1.gz\"\n\n# Get rid of retained dependencies on -dev packages, and remove\n# some $TMPDIR references to improve binary reproducibility.\n# Note that the .pyc file of _sysconfigdata.py should be regenerated!\nfor i in $out/lib/python3.12/_sysconfigdata*.py $out/lib/python3.12/config-312*/Makefile; do\n   sed -i $i -e \"s|$TMPDIR|/no-such-path|g\"\ndone\n\n# Further get rid of references. https://github.com/NixOS/nixpkgs/issues/51668\nfind $out/lib/python*/config-* -type f -print -exec nuke-refs -e /1rz4g4znpzjwh1xymhjpm42vipw92pr73vdgl6xs1hycac8kf2n9 -e /nix/store/f511iqhrlc85xl8j767lpmmjzqcy5vz2-libxcrypt-4.4.36 -e /nix/store/xf76fs68q22zgnsa0954h2jdn466svwn-tzdata-2024b '{}' +\nfind $out/lib -name '_sysconfigdata*.py*' -print -exec nuke-refs -e /1rz4g4znpzjwh1xymhjpm42vipw92pr73vdgl6xs1hycac8kf2n9 -e /nix/store/f511iqhrlc85xl8j767lpmmjzqcy5vz2-libxcrypt-4.4.36 -e /nix/store/xf76fs68q22zgnsa0954h2jdn466svwn-tzdata-2024b '{}' +\n\n# Make the sysconfigdata module accessible on PYTHONPATH\n# This allows build Python to import host Python's sysconfigdata\nmkdir -p \"$out/lib/python3.12/site-packages\"\nln -s \"$out/lib/python3.12/\"_sysconfigdata*.py \"$out/lib/python3.12/site-packages/\"\n# Include a sitecustomize.py file\ncp /nix/store/gx4pa1m75g8rrrggj7gi3bg38m4lg3q5-sitecustomize.py $out/lib/python3.12/site-packages/sitecustomize.py\n# Determinism: deterministic bytecode\n# First we delete all old bytecode.\nfind $out -type d -name __pycache__ -print0 | xargs -0 -I {} rm -rf \"{}\"\n# Python 3.7 implements PEP 552, introducing support for deterministic bytecode.\n# compileall uses the therein introduced checked-hash method by default when\n# `SOURCE_DATE_EPOCH` is set.\n# We exclude lib2to3 because that's Python 2 code which fails\n# We build 3 levels of optimized bytecode. Note the default level, without optimizations,\n# is not reproducible yet. https://bugs.python.org/issue29708\n# Not creating bytecode will result in a large performance loss however, so we do build it.\nfind $out -name \"*.py\" | $out/bin/python -m compileall -q -f -x \"lib2to3\" -i -\nfind $out -name \"*.py\" | $out/bin/python -O  -m compileall -q -f -x \"lib2to3\" -i -\nfind $out -name \"*.py\" | $out/bin/python -OO -m compileall -q -f -x \"lib2to3\" -i -\n# *strip* shebang from libpython gdb script - it should be dual-syntax and\n# interpretable by whatever python the gdb in question is using, which may\n# not even match the major version of this python. doing this after the\n# bytecode compilations for the same reason - we don't want bytecode generated.\nmkdir -p $out/share/gdb\nsed '/^#!/d' Tools/gdb/libpython.py > $out/share/gdb/libpython.py\n\n# Disable system-wide pip installation. See https://peps.python.org/pep-0668/.\ncat <<'EXTERNALLY_MANAGED' > $out/lib/python3.12/EXTERNALLY-MANAGED\n[externally-managed]\nError=This command has been disabled as it tries to modify the immutable\n `/nix/store` filesystem.\n\n To use Python with Nix and nixpkgs, have a look at the online documentation:\n <https://nixos.org/manual/nixpkgs/stable/#python>.\nEXTERNALLY_MANAGED\n"),("postPatch","substituteInPlace Lib/subprocess.py \\\n  --replace-fail \"'/bin/sh'\" \"'/nix/store/fhngvmgagwwxhak8nzrx5vqbg4g4qiac-bash-5.2p37/bin/sh'\"\nsubstituteInPlace Lib/mimetypes.py \\\n  --replace-fail \"@mime-types@\" \"/nix/store/dhikn81zp7bdr2vns6lvqjsabc63qkj8-mailcap-2.1.54\"\n"),("preConfigure","# Attempt to purify some of the host info collection\nsed -E -i -e 's/uname -r/echo/g' -e 's/uname -n/echo nixpkgs/g' config.guess\nsed -E -i -e 's/uname -r/echo/g' -e 's/uname -n/echo nixpkgs/g' configure\n# Override the auto-detection in setup.py, which assumes a universal build\nexport PYTHON_DECIMAL_WITH_MACHINE=x64\n# Ensure that modern platform features are enabled on Darwin in spite of having no version suffix.\nsed -E -i -e 's|Darwin/\\[12\\]\\[0-9\\]\\.\\*|Darwin/*|' configure\n# Also override the auto-detection in `configure`.\nsubstituteInPlace configure \\\n  --replace-fail 'libmpdec_machine=universal' 'libmpdec_machine=x64'\nexport CFLAGS_NODIST=\"-fno-semantic-interposition\"\n"),("preFixup",""),("prePatch","substituteInPlace configure --replace-fail '`/usr/bin/arch`' '\"i386\"'\n"),("propagatedBuildInputs",""),("propagatedNativeBuildInputs",""),("separateDebugInfo","1"),("setupHook","/nix/store/kcq8qkqidg90ggxlx4iabxnikhs83d44-python-setup-hook.sh"),("src","/nix/store/ixlxlyp22scrw1xhl9i6p4hz9knq8fk7-Python-3.12.7.tar.xz"),("stdenv","/nix/store/czsf60xzd6xjc14zx51y7wh5b76shx03-stdenv-darwin"),("strictDeps",""),("system","x86_64-darwin"),("version","3.12.7")])